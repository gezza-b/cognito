<!DOCTYPE HTML>
<html lang="en">
  <meta charset="UTF-8">
  <script src="/js/aws-sdk.min-2.9.js"></script>
  <script src="/js/amazon-cognito.min.js"></script>

  <title>AWS Cognito PoC - anonymous users</title>
<head>
</head>

<body>
  <script type="text/javascript">

  // Initialize the Amazon Cognito credentials provider
  AWS.config.region = 'ap-southeast-2'; // Region

  AWS.config.credentials = new AWS.CognitoIdentityCredentials({
      IdentityPoolId: 'ap-southeast-2:76a4675f-eef4-45ee-8659-3759b100afce',
  });


  // Initialize the Cognito Sync client
  AWS.config.credentials.get(function(){

     var syncClient = new AWS.CognitoSyncManager();

     syncClient.openOrCreateDataset('myDataset', function(err, dataset) {

        dataset.put('myKey', 'myValue', function(err, record){

           dataset.synchronize({

              onSuccess: function(data, newRecords) {
                  // Your handler code here
                  console.log('sync-success: ' + data + ' / ' + newRecords);
              }

           });

        });

     });

  });

  </script>


<p>
<a href="index_cognito.html">Back to Cognito-PoC Start Page</a>
</p>
</body>

</html>
